import React, {useState} from "react";
import IconStar from "../../assets/icons/IconStar";
import "./style.css";

const Card = ({ data, viewDetailHandler }) => {
  const [open, setOpen] = useState('');
  const renderRating = (param) => {
    var indents = [];
    for(let i=0;i<param;i++){
      indents.push(<li key={i}><IconStar /></li>);
    }
    return indents;
  }
  const openHandler = (param) => {
    setOpen(param)
    viewDetailHandler(param);
  }
  return (
    <React.Fragment>
      {data && Array.isArray(data) && data.length > 0
        ? data.map((item, idx) => (
            <div key={idx} className={"card "+(open===idx ? 'active' : '')} onClick={openHandler.bind(this, idx)}>
              <div className="flex-container space-between">
                <div>
                  <h3>{item.name}</h3>
                  <p className="company">{item.company}</p>
                  <ul className="rating-star">{renderRating(item.rating)}</ul>
                </div>
                <div className="logo">
                  {item.company === "Internshala" ? 
                  <img src="https://d5ln38p3754yc.cloudfront.net/club_icons/149038/medium/149038-1493721542.png?1493721542" alt={item.company} />  :
                  item.company === "Google" ? 
                  <img src="https://img.icons8.com/color/452/google-logo.png" alt={item.company} /> :
                  item.company === "Lollypop Designs Private Ltd" ?
                  <img src="https://scontent.fdel1-4.fna.fbcdn.net/v/t1.18169-9/10659206_841653769227903_7920613867369063699_n.png?_nc_cat=100&ccb=1-3&_nc_sid=09cbfe&_nc_ohc=zLl1NMbK9fcAX9Wy0Ck&_nc_ht=scontent.fdel1-4.fna&oh=7f75cd142096d43845d0344c9d28d993&oe=60B9B82A" alt={item.company} /> :
                  item.company === "Alcon" ?
                  <img src ="https://scontent.fdel1-2.fna.fbcdn.net/v/t1.6435-9/56521003_10155932195517540_1042704139756240896_n.jpg?_nc_cat=107&ccb=1-3&_nc_sid=09cbfe&_nc_ohc=x3KmW26FsBoAX9dUKtg&tn=qVhGs7-JHFEi9FcE&_nc_ht=scontent.fdel1-2.fna&oh=cedfcae8364319ce3abe24d3b5ca2b18&oe=60BCE216" alt={item.company} /> :
                  "" }
                </div>
              </div>
              <div className="info">
              <div className="location">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7.66667 1C6.42902 1 5.24207 1.47016 4.36692 2.30704C3.49177 3.14393 3.00012 4.27899 3.00012 5.46253C2.97307 9.72005 7.66667 15 7.66667 15C7.66667 15 12.3603 9.72005 12.3332 5.46253C12.3332 4.27899 11.8416 3.14393 10.9664 2.30704C10.0913 1.47016 8.90431 1 7.66667 1ZM7.66667 7.35541C7.27518 7.35541 6.89248 7.24439 6.56696 7.0364C6.24145 6.82841 5.98774 6.53278 5.83792 6.1869C5.68811 5.84102 5.64891 5.46043 5.72528 5.09325C5.80166 4.72607 5.99018 4.38879 6.26701 4.12406C6.54383 3.85934 6.89653 3.67906 7.2805 3.60602C7.66447 3.53299 8.06247 3.57047 8.42416 3.71374C8.78585 3.85701 9.09499 4.09962 9.31249 4.4109C9.52999 4.72219 9.64608 5.08815 9.64608 5.46253C9.64608 5.96455 9.43754 6.44601 9.06633 6.801C8.69511 7.15598 8.19164 7.35541 7.66667 7.35541Z" fill="#DADADA"/>
                </svg>
                {item.location}
              </div>
              <div className="flex-container space-between">
                <div className="salary">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.291 10.2965C15.291 8.10492 13.8237 6.25057 11.8204 5.66254H12.3162C13.087 5.66254 13.7139 5.03562 13.7139 4.26482C13.7139 3.49401 13.087 2.86709 12.3162 2.86709H10.3161C10.4013 2.68665 10.4491 2.48513 10.4491 2.27272C10.4491 1.50192 9.82217 0.875 9.05137 0.875H2.27272C1.50192 0.875 0.875 1.50192 0.875 2.27272C0.875 3.04353 1.50192 3.67045 2.27272 3.67045H4.27276C4.18758 3.8509 4.13982 4.05241 4.13982 4.26482C4.13982 4.47721 4.18756 4.67873 4.27275 4.85918H3.76679C2.99599 4.85918 2.36907 5.4861 2.36907 6.25691C2.36907 6.64677 2.5297 6.99951 2.78755 7.25295C2.5297 7.50639 2.36907 7.85913 2.36907 8.249C2.36907 8.63886 2.5297 8.9916 2.78755 9.24504C2.5297 9.49849 2.36907 9.85122 2.36907 10.2411C2.36907 10.631 2.5297 10.9837 2.78755 11.2371C2.5297 11.4906 2.36907 11.8433 2.36907 12.2332C2.36907 13.004 2.99599 13.6309 3.76679 13.6309H6.97362C7.85305 14.5507 9.09183 15.125 10.4625 15.125C13.125 15.125 15.291 12.959 15.291 10.2965ZM12.3162 3.67045C12.6438 3.67045 12.9105 3.9372 12.9105 4.26482C12.9105 4.59243 12.6438 4.85918 12.3162 4.85918H10.5454H5.53754C5.2099 4.85918 4.94317 4.59243 4.94317 4.26482C4.94317 3.9372 5.2099 3.67045 5.53754 3.67045H12.3162ZM2.27272 2.86709C1.94509 2.86709 1.67836 2.60034 1.67836 2.27272C1.67836 1.94511 1.94509 1.67836 2.27272 1.67836H9.05137C9.379 1.67836 9.64573 1.94511 9.64573 2.27272C9.64573 2.60034 9.379 2.86709 9.05137 2.86709H2.27272ZM3.76679 5.66254H9.10362C8.33275 5.88898 7.64137 6.30296 7.08256 6.85127H3.76679C3.43918 6.85127 3.17243 6.58452 3.17243 6.25691C3.17243 5.92929 3.43918 5.66254 3.76679 5.66254ZM3.76679 7.65463H6.42273C6.18327 8.01959 5.99187 8.41883 5.85762 8.84336H3.76679C3.43915 8.84336 3.17243 8.57664 3.17243 8.249C3.17243 7.92138 3.43916 7.65463 3.76679 7.65463ZM3.76679 9.64672H5.6778C5.64899 9.85925 5.63391 10.0761 5.63391 10.2965C5.63391 10.4787 5.64429 10.6585 5.66413 10.8355H3.76679C3.43915 10.8355 3.17243 10.5687 3.17243 10.2411C3.17243 9.91345 3.43915 9.64672 3.76679 9.64672ZM3.76679 12.8275C3.43915 12.8275 3.17243 12.5608 3.17243 12.2332C3.17243 11.9055 3.43915 11.6388 3.76679 11.6388H5.82408C5.94667 12.0618 6.12559 12.4609 6.35217 12.8275H3.76679ZM10.4625 14.3216C8.24308 14.3216 6.43727 12.5158 6.43727 10.2965C6.43727 8.07707 8.24308 6.27126 10.4625 6.27126C12.6818 6.27126 14.4876 8.07707 14.4876 10.2965C14.4876 12.5158 12.6818 14.3216 10.4625 14.3216Z" fill="#D9D7D7" stroke="#D9D7D7" strokeWidth="0.25"/>
                  </svg>
                  {item.salary}
                </div>
                <div className="duration">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.226 12.2903V11.3108C11.226 10.5176 10.8098 9.78257 10.1297 9.37449L7.83887 8L6.25823 8.94839L5.35059 11.3108V12.8034L11.226 12.2903Z" fill="#F9F7F7"/>
                  <path d="M6.25761 12.2904V8.94849L5.54747 9.37458C4.86734 9.78266 4.45117 10.5177 4.45117 11.3109V12.2904H6.25761Z" fill="#F9F7F7"/>
                  <path d="M5.20508 1.45166V4.6893C5.20508 5.48249 5.62125 6.21749 6.30137 6.62556H9.30664L10.8299 5.96778C11.085 5.59706 11.2263 5.15398 11.2263 4.68927V2.35488L5.20508 1.45166Z" fill="#F9F7F7"/>
                  <path d="M4.45117 1.45166V4.6893C4.45117 5.15327 4.59358 5.59733 4.8479 5.96773L6.25761 6.42779V3.03232C6.25761 2.6582 6.56091 2.35491 6.93502 2.35491H11.2253V1.45166H4.45117Z" fill="#F9F7F7"/>
                  <path d="M8.34643 11.1389C8.17496 11.0704 8.0637 10.9048 8.0637 10.7201V8.12025C8.0637 7.96163 8.14693 7.8146 8.28297 7.733L10.1287 6.62555C10.4102 6.45665 10.6484 6.22962 10.8286 5.96777H6.25726L5.96484 6.32751L6.25723 7.05165L7.39282 7.733C7.52885 7.81463 7.61209 7.96163 7.61209 8.12025V10.7201C7.61209 10.9047 7.49965 11.0708 7.3282 11.1394L6.25726 11.5678L5.78711 13.9154L11.225 13.6452V12.2904C11.225 12.2904 9.1645 11.4662 8.34643 11.1389Z" fill="#D9D7D7"/>
                  <path d="M6.25764 12.9676V11.5676L4.45117 12.2902V14.3225H11.2254V13.6451H6.93505C6.56091 13.6451 6.25764 13.3418 6.25764 12.9676Z" fill="#D9D7D7"/>
                  <path d="M11.4523 14.0967H5.58127C5.45656 14.0967 5.35547 14.1978 5.35547 14.3225V14.5483C5.35547 14.673 5.45656 14.7741 5.58127 14.7741H11.4523C11.5769 14.7741 11.6781 14.673 11.6781 14.5483V14.3225C11.6781 14.1978 11.577 14.0967 11.4523 14.0967Z" fill="#D9D7D7"/>
                  <path d="M6.03224 14.5483C5.78281 14.5483 5.58063 14.3461 5.58063 14.0967H4.2258C4.10109 14.0967 4 14.1978 4 14.3225V14.7741C4 14.8988 4.10109 14.9999 4.2258 14.9999H11.4516C11.5763 14.9999 11.6774 14.8988 11.6774 14.7741V14.5483H6.03224Z" fill="#D9D7D7"/>
                  <path d="M5.54814 6.62555L6.25829 7.05165V5.96777H4.84863C5.02891 6.22964 5.26664 6.45665 5.54814 6.62555Z" fill="#D9D7D7"/>
                  <path d="M11.4523 1H5.58127C5.45656 1 5.35547 1.10109 5.35547 1.2258V1.45161C5.35547 1.5763 5.45656 1.67741 5.58127 1.67741H11.4523C11.5769 1.67741 11.6781 1.5763 11.6781 1.45161V1.2258C11.6781 1.10109 11.577 1 11.4523 1Z" fill="#D9D7D7"/>
                  <path d="M6.03224 1.45161C5.78281 1.45161 5.58063 1.2494 5.58063 1H4.2258C4.10109 1 4 1.10109 4 1.2258V1.67741C4 1.80213 4.10109 1.90322 4.2258 1.90322H11.4516C11.5763 1.90322 11.6774 1.80213 11.6774 1.67741V1.45161H6.03224Z" fill="#D9D7D7"/>
                </svg>
                {item.duration}
                </div>
              </div>
              <div className="pstedon">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.1249 8.00004C15.125 7.70444 14.8853 7.46483 14.5898 7.46483C14.2942 7.46483 14.0546 7.70444 14.0546 7.99999C14.0546 11.3384 11.3384 14.0546 7.99999 14.0546C4.66155 14.0546 1.94534 11.3384 1.94534 7.99999C1.94534 4.66154 4.66155 1.94533 7.99999 1.94533C8.96155 1.94533 9.89807 2.17077 10.7437 2.60142L12.8965 0.915767C12.6965 0.832898 12.4663 0.878705 12.3133 1.03181L11.5332 1.81187C10.4601 1.19785 9.2475 0.875053 7.99996 0.875053C6.09705 0.875053 4.30739 1.61636 2.96184 2.96189L2.96183 2.96189C1.61627 4.30748 0.875 6.09711 0.875 8.00001C0.875 9.90292 1.61627 11.6926 2.96183 13.0381C4.30742 14.3837 6.09705 15.125 7.99996 15.125C9.90287 15.125 11.6925 14.3837 13.0381 13.0381C14.3836 11.6926 15.1249 9.90295 15.1249 8.00004ZM15.1249 8.00004L14.9999 8.00001L15.1249 8.00004Z" fill="#D9D7D7" stroke="#D9D7D7" strokeWidth="0.25"/>
                <path d="M10.1164 8.24139H8.01562V6.14062C8.01562 5.84507 7.77602 5.60547 7.48047 5.60547C7.18492 5.60547 6.94531 5.84507 6.94531 6.14062V8.77655C6.94531 9.0721 7.18492 9.3117 7.48047 9.3117H10.1164C10.4119 9.3117 10.6515 9.0721 10.6515 8.77655C10.6515 8.481 10.4119 8.24139 10.1164 8.24139Z" fill="#D9D7D7" stroke="#D9D7D7" strokeWidth="0.25"/>
              </svg>
              {item.date_post}
              </div>
              </div>
              <div className="bottom-card">
                <div className="actions">
                  <button type="button">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.75 2C4.75 1.86193 4.86193 1.75 5 1.75H19C19.1381 1.75 19.25 1.86193 19.25 2V21.099C19.25 21.3003 19.0242 21.419 18.8584 21.305L12.9914 17.2715C12.3942 16.8609 11.6058 16.8609 11.0086 17.2715L11.4335 17.8895L11.0086 17.2715L5.14163 21.305C4.97576 21.419 4.75 21.3003 4.75 21.099V2Z" fill="white" stroke="#008BDC" strokeWidth="1.5"/>
                  </svg>
                  </button>
                  <button type="button">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12C9 11.76 8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5C21 3.34 19.66 2 18 2C16.34 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12C3 13.66 4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.35C15.11 18.56 15.08 18.78 15.08 19C15.08 20.61 16.39 21.92 18 21.92C19.61 21.92 20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08Z" fill="#008BDC"/>
                  </svg>
                  </button>
                </div>
                <div className="detail">View details&nbsp;
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 12L10 8L6 4" stroke="#008BDC" strokeLinecap="round" strokeLinejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
          ))
        : "no data"}
    </React.Fragment>
  );
};

export default Card;
